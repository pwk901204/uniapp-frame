(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/Regis/Audit/Audit"],{2847:function(t,e,n){"use strict";n.r(e);var i=n("9700"),o=n("97b8");for(var a in o)"default"!==a&&function(t){n.d(e,t,function(){return o[t]})}(a);n("ce02");var s=n("2877"),r=Object(s["a"])(o["default"],i["a"],i["b"],!1,null,null,null);e["default"]=r.exports},9700:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement;t._self._c},o=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o})},"97b8":function(t,e,n){"use strict";n.r(e);var i=n("b9e5"),o=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,function(){return i[t]})}(a);e["default"]=o.a},a459:function(t,e,n){},ae45:function(t,e,n){"use strict";(function(t){n("d8f3"),n("921b");i(n("66fd"));var e=i(n("2847"));function i(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("543d")["createPage"])},b9e5:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=s(n("d0e3")),o=s(n("c52c")),a=s(n("1a57"));function s(t){return t&&t.__esModule?t:{default:t}}function r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),i.forEach(function(e){c(t,e,n[e])})}return t}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d(t){return h(t)||l(t)||u()}function u(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function l(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function h(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}var f=function(){return n.e("components/uni-list/uni-list").then(n.bind(null,"2f67"))},m=function(){return n.e("components/uni-list-item/uni-list-item").then(n.bind(null,"4d22"))},v=function(){return n.e("components/addressChose/addressChose").then(n.bind(null,"cb4a"))},p=function(){return n.e("components/HyTags/Hytags").then(n.bind(null,"5a01"))},g=function(){return n.e("components/MulChoseItem/index").then(n.bind(null,"5633"))},b={components:{uniList:f,uniListItem:m,addressChose:v,HyTags:p,AddressMul:g},data:function(){return{userphoto:"",userphotoGroup:"",mpPhoto:"",mpPhotoGroup:"",address:{province:"",provinceStr:"",city:"",cityStr:"",county:"",countyStr:""},page:"",formdata:{},addressDicts:[],tzjdDicts:[],tzjeList:[],tzjeIndex:-1,checkedObj:{},addressObj:{},addressCheckObj:{},tzjdCheckObj:{},windowHeight:0,windowHeight2:0}},computed:{disabledAll:function(){var t=this.$store.state.userinfomore;return!!t.username},disabled:function(){var t=this.$store.state.userinfomore;return t.username,!1},hidetextarea:function(){return this.$store.state.hidetextarea}},watch:{hidetextarea:function(e){var n=this;t.getSystemInfo({success:function(t){console.log(t.windowHeight);var i=t.windowHeight,o=t.windowWidth,a=750/o;n.windowHeight2=i*a-(e?0:150)}})}},onLoad:function(e){var n=this;if(this.initHeight(),e&&"mine"===e.page&&(this.page=e.page),"mine"===this.page){t.setNavigationBarTitle({title:"我的资料"}),this.getUserInfo(),this.getDict("YJXZQH","addressDicts"),this.getDict("QYJD","tzjdDicts"),this.getDict("RZED","tzjeList");var i=setInterval(function(){if(n.tzjeList.length&&""!==n.formdata.investmentLines){clearInterval(i);for(var t=0;t<n.tzjeList.length;t++)if(n.tzjeList[t].dm===n.formdata.investmentLines){n.tzjeIndex=t;break}}},200)}},onUnload:function(){this.page||t.$off("sendRegisCall")},methods:{initHeight:function(){var e=this;t.getSystemInfo({success:function(t){console.log(t.windowHeight);var n=t.windowHeight,i=t.windowWidth,o=750/i;e.windowHeight=n*o,e.windowHeight2=n*o-(e.disabled?0:150)}})},getUserInfo:function(){var t=this;this.$api.test2("/rest/user/queryUserRegisterInfo.do",{}).then(function(e){e=e.data,e.flag&&(console.log(e),e.data.photoUrl&&(t.userphotoGroup=e.data.photoUrl,t.userphoto=t.$api.viewFile(e.data.photoUrl)),e.data.card&&(t.mpPhotoGroup=e.data.photoUrl,t.mpPhoto=t.$api.viewFile(e.data.card)),e.data.county&&(t.addressObj={province:e.data.province,provinceStr:e.data.provinceStr,city:e.data.city,cityStr:e.data.cityStr,county:e.data.county,countyStr:e.data.countyStr}),e.data.investmentField&&(t.checkedObj={checkedFristIds:e.data.levelOneInvestmentField||"",checkedIds:e.data.investmentField||"",checkedTxts:e.data.investmentFieldStr||""}),e.data.investmentPlace&&(t.addressCheckObj={checked:e.data.investmentPlace,checkedTxt:e.data.investmentPlaceStr}),e.data.investmentPhase&&(t.tzjdCheckObj={checked:e.data.investmentPhase,checkedTxt:e.data.investmentPhaseStr}),t.formdata=e.data)}).catch(function(){})},getDict:function(t,e){var n=this;this.$api.test2("/rest/dictList.do",{lxjp:t}).then(function(t){t=t.data,t.flag&&(n[e]=t.data)}).catch(function(){})},updateHyTags:function(t){t&&(this.formdata.levelOneInvestmentField=t.firstChecked.join(","),this.formdata.investmentField=t.secondChecked.join(",")),console.log(t)},updateAddressMul:function(t){this.formdata.investmentPlace=t.join(",")},updateTzjdMul:function(t){this.formdata.investmentPhase=t.join(",")},bindtzjeChange:function(t){this.tzjeIndex=t.target.value,this.$forceUpdate()},formSubmit:function(e){if(this.$store.dispatch("setButtonClicked"),!this.$store.state.buttonClicked){var n=e.detail.value;n=this.$utils.clearStringSpece(n);var s=d(o.default);"mine"===this.page&&(s=[].concat(d(o.default),d(a.default)));var c=i.default.check(n,s);if(console.log(s),console.log(c),c){var u=r({},n,this.address);if(!this.userphotoGroup)return t.showToast({title:"请上传头像",icon:"none"}),!1;if(u.photoUrl=this.userphotoGroup,!this.address.province)return t.showToast({title:"请选择所在地区",icon:"none"}),!1;if(!this.mpPhotoGroup)return t.showToast({title:"请上传名片",icon:"none"}),!1;if(u.card=this.mpPhotoGroup,"mine"===this.page){if(!this.formdata.investmentField)return t.showToast({title:"请选择投资领域",icon:"none"}),!1;if(u.levelOneInvestmentField=this.formdata.levelOneInvestmentField,u.investmentField=this.formdata.investmentField,!this.formdata.investmentPlace)return t.showToast({title:"请选择投资地区",icon:"none"}),!1;if(u.investmentPlace=this.formdata.investmentPlace,!this.formdata.investmentPhase)return t.showToast({title:"请选择投资阶段",icon:"none"}),!1;if(u.investmentPhase=this.formdata.investmentPhase,-1===this.tzjeIndex||!this.tzjeList[this.tzjeIndex])return t.showToast({title:"请选择投资额度",icon:"none"}),!1;u.investmentLines=this.tzjeList[this.tzjeIndex].dm,this.savePost(u)}else t.$emit("sendRegisCall",u)}else t.showToast({title:i.default.error,icon:"none"})}},savePost:function(e){e.id=this.formdata.id,e.userId=this.formdata.id,e.userInforId=this.formdata.userInforId,this.$api.test2("/rest/user/investor/update.do",e).then(function(e){e=e.data,e.flag&&(console.log(e),t.showToast({title:e.message||"用户信息修改成功",icon:"success"}),setTimeout(function(){t.navigateBack({delta:1})},2e3))}).catch(function(){})},updateAddress:function(t){this.address.province=t[0].code,this.address.provinceStr=t[0].name,this.address.city=t[1].code,this.address.cityStr=t[1].name,this.address.county=t[2].code,this.address.countyStr=t[2].name},choseUserPhoto:function(){var e=this;if(this.disabled)return!1;this.$api.chooseImage({}).then(function(n){if(n&&n.length){var i=!0,o=!1,a=void 0;try{for(var s,r=n[Symbol.iterator]();!(i=(s=r.next()).done);i=!0){var c=s.value;e.$api.uploadFile(c).then(function(t){console.log(t.data),e.userphotoGroup=t.data[0],e.userphoto=e.$api.viewFile(t.data[0])}).catch(function(e){t.showToast({title:e.message||"头像上传失败",icon:"none"})})}}catch(d){o=!0,a=d}finally{try{i||null==r.return||r.return()}finally{if(o)throw a}}}}).catch(function(t){})},chooseImageMp:function(){var e=this;if(this.disabled)return!1;this.$api.chooseImage({}).then(function(n){if(n&&n.length){var i=!0,o=!1,a=void 0;try{for(var s,r=n[Symbol.iterator]();!(i=(s=r.next()).done);i=!0){var c=s.value;e.$api.uploadFile(c).then(function(t){console.log(t.data),e.mpPhotoGroup=t.data[0],e.mpPhoto=e.$api.viewFile(t.data[0])}).catch(function(e){t.showToast({title:e.message||"名片上传失败",icon:"none"})})}}catch(d){o=!0,a=d}finally{try{i||null==r.return||r.return()}finally{if(o)throw a}}}}).catch(function(t){})},bindAddressChange:function(t){}}};e.default=b}).call(this,n("543d")["default"])},ce02:function(t,e,n){"use strict";var i=n("a459"),o=n.n(i);o.a}},[["ae45","common/runtime","common/vendor"]]]);