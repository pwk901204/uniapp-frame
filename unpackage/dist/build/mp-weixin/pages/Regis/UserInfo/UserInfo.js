(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/Regis/UserInfo/UserInfo"],{"0a91":function(e,t,n){"use strict";var a=n("ae77"),o=n.n(a);o.a},"0f96":function(e,t,n){"use strict";n.r(t);var a=n("a4ad"),o=n("40c6");for(var i in o)"default"!==i&&function(e){n.d(t,e,function(){return o[e]})}(i);n("0a91");var s=n("2877"),r=Object(s["a"])(o["default"],a["a"],a["b"],!1,null,null,null);t["default"]=r.exports},"19da":function(e,t,n){"use strict";(function(e){n("d8f3"),n("921b");a(n("66fd"));var t=a(n("0f96"));function a(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("543d")["createPage"])},"40c6":function(e,t,n){"use strict";n.r(t);var a=n("77a3"),o=n.n(a);for(var i in a)"default"!==i&&function(e){n.d(t,e,function(){return a[e]})}(i);t["default"]=o.a},"77a3":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("d0e3")),o=i(n("33db"));function i(e){return e&&e.__esModule?e:{default:e}}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){r(e,t,n[t])})}return e}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c={components:{},data:function(){return{lx:"",phone:"",agreeChecked:!1,sendTime:0,sendData:{}}},onLoad:function(t){if(t){var n="";switch(t.lx){case"1":n="投资人注册";break;case"2":n="企业注册";break;default:n="注册"}e.setNavigationBarTitle({title:n}),this.lx=t.lx}},methods:{formSubmit:function(t){if(this.$store.dispatch("setButtonClicked"),!this.$store.state.buttonClicked){var n=t.detail.value;console.log(n),n=this.$utils.clearStringSpece(n),console.log(n);var i=a.default.check(n,o.default);i?this.agreeChecked?(n.agreement=!0,n.password!==n.confirmPassword?e.showToast({title:"两次密码输入不一致",icon:"none"}):(n.userType=this.lx,this.sendData&&this.sendData.phone===n.phone?this.gotoNextSetp(n):this.validateSmsCode(n))):e.showToast({title:"请确认同意用户注册协议!",icon:"none"}):e.showToast({title:a.default.error,icon:"none"})}},validateSmsCode:function(t){var n=this;this.$api.test2("/rest/user/validateRegisterSmsCode.do",t).then(function(a){a=a.data,a.flag?(n.sendData=t,n.gotoNextSetp(t)):e.showToast({title:"短信验证码不正确",icon:"none"})}).catch(function(t){e.showToast({title:"短信验证码不正确",icon:"none"})})},agreeChange:function(e){var t=e.detail.value;t.includes("1")?this.agreeChecked=!0:this.agreeChecked=!1},sendSmsCode:function(){var t=this;if(this.$store.dispatch("setButtonClicked"),!this.$store.state.buttonClicked){var n=/^1[0-9]{10,10}$/;this.phone&&n.test(this.phone)&&this.$api.test("/rest/user/sendRegisterSmsCode.do?phone="+this.phone,{}).then(function(n){if(n=n.data,n.flag){e.showToast({title:"短信发送成功",icon:"success"}),t.sendTime=60;var a=setInterval(function(){t.sendTime>0?t.sendTime--:clearInterval(a)},1e3)}}).catch(function(){})}},readAgreeCall:function(){e.navigateTo({url:"/pages/Regis/Notice/Notice"})},gotoNextSetp:function(t){var n="";switch(this.lx){case"1":n="/pages/Regis/Audit/Audit";break;case"2":n="/pages/Regis/Project/Project?phone="+t.phone;break;default:n="/pages/Regis/Audit/Audit"}e.$on("sendRegisCall",this.sendRegisCall),e.navigateTo({url:n})},sendRegisCall:function(t){console.log(t);var n=s({},this.sendData,t),a="/rest/user/investor/regsiter.do";"2"===this.lx&&(a="/rest/user/company/regsiter.do"),console.log(n),this.$api.test2(a,n).then(function(t){t=t.data,t.flag&&(e.showToast({title:"注册成功",icon:"success"}),setTimeout(function(){e.navigateBack({delta:3})},2e3))}).catch(function(){})}}};t.default=c}).call(this,n("543d")["default"])},a4ad:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement;e._self._c},o=[];n.d(t,"a",function(){return a}),n.d(t,"b",function(){return o})},ae77:function(e,t,n){}},[["19da","common/runtime","common/vendor"]]]);